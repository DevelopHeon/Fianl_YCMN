<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="employeeMapper">
	
	<select id="loginEmployee" parameterType="Employee" resultType="Employee">
		SELECT A.*,
		       B.DEP_NAME,
		       C.POS_NAME
		FROM EMPLOYEE A
		LEFT OUTER JOIN DEPARTMENT B
		    ON A.DEP_NO = B.DEP_NO
		LEFT OUTER JOIN JOB_POSITION C
		    ON A.POS_NO = C.POS_NO
		WHERE A.EMP_ID = #{empId}
		AND A.STATUS = 'Y'
	</select>
	
	<insert id="insertEmployee" parameterType="Employee">
		INSERT INTO EMPLOYEE
   (EMP_NO, EMP_NAME, EMP_ID, EMP_PWD, EMP_EMAIL, EMP_PHONE, CATEGORY, STATUS)
   VALUES(SEQ_EMP.NEXTVAL, #{empName}, #{empId}, #{empPwd}, #{email}, #{phone}, DEFAULT, DEFAULT)
	</insert>
	
	<select id="idCheck" parameterType="string" resultType="_int">
		SELECT COUNT(EMP_ID)
		FROM EMPLOYEE
		WHERE EMP_ID = #{empId}
	</select>
</mapper>
