<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="reserveMapper">


	<!-- 회의실 목록 불러오기 -->
	<select id="getRoomList" resultType="Resources">
		<![CDATA[
		SELECT 		* 
		FROM 		RESOURCE_ENTERPRISE A
		WHERE 		RC_NO = 1 
					AND STATUS <> 'N'
		ORDER BY 	RSC_NO
		]]>
	</select>
	<!-- 비품 목록 불러오기 -->
	<select id="getSupplyList" resultType="Resources">		
		<![CDATA[
		SELECT 		* 
		FROM 		RESOURCE_ENTERPRISE A
		WHERE 		RC_NO = 2 
					AND STATUS <> 'N'
		ORDER BY 	RSC_NO
		]]>
	</select>
	
	<!-- 자원 조회/추가/수정/삭제 -->
	<select id="getRscList" resultType="Resources">
		SELECT 		* 
		FROM 		RESOURCE_ENTERPRISE A
		WHERE		STATUS != 'N'
	</select>
	<insert id="insertRsc" parameterType="Resources">
		INSERT 
		INTO 	RESOURCE_ENTERPRISE
				(RSC_NO, RC_NO, RSC_NAME, RSC_ETC, STATUS)
		VALUES 	(SEQ_RSC.NEXTVAL, #{rcNo}, #{rscName}, #{rscEtc}, DEFAULT)
	</insert>
	<update id="updateRsc" parameterType="Resources">
		UPDATE 	RESOURCE_ENTERPRISE
		SET		RSC_NAME = #{rscName},
				RSC_ETC = #{rscEtc},
				STATUS = #{status}
		WHERE 	RSC_NO = #{rscNo}
	</update>
	<update id="deleteRsc" parameterType="Resources">
		UPDATE 	RESOURCE_ENTERPRISE
		SET		STATUS = 'N'
		WHERE 	RSC_NO = #{rscNo}
	</update>
</mapper>
